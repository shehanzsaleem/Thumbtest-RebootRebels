(this["webpackJsonpimage-classification-browser"]=this["webpackJsonpimage-classification-browser"]||[]).push([[0],[,,,,,,,,,,function(e,t){e.exports="data:image/png;base64,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"},,,,,function(e,t,a){e.exports=a(37)},,,,,function(e,t,a){},,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),i=a(14),l=a.n(i),r=(a(20),a(4)),s=a.n(r),d=a(5),o=a(2),m=a(3),u=Object(n.createContext)({model:null,fetchModel:function(e){},labels:null,fetchLabels:function(e){},selected:"",selectMode:function(e){}}),A=function(){var e=Object(n.useState)((function(){return window.innerWidth>1e3?{height:650,width:900}:window.innerWidth>800?{height:550,width:700}:window.innerWidth>600?{height:400,width:500}:window.innerWidth>400?{height:280,width:350}:{height:200,width:300}})),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){function e(){window.innerWidth>1e3?c({height:650,width:900}):window.innerWidth>800?c({height:550,width:700}):window.innerWidth>600?c({height:400,width:500}):window.innerWidth>400?c({height:280,width:350}):c({height:200,width:300})}return window.addEventListener("resize",e),function(t){window.removeEventListener("resize",e)}})),a},v=function(){var e=Object(d.a)(s.a.mark((function e(t,a,n,c){var i,l,r,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=m.d((function(){var e=m.a.fromPixels(n.current);return m.b.resizeBilinear(e,[224,224]).div(255).expandDims(0).toFloat()})),l=t.execute(i),r=l.arraySync()[0],l.dispose(),i.dispose(),(d=r.map((function(e,t){return{label:a[t],score:e}}))).sort((function(e,t){return t.score-e.score})),c.current.innerHTML=d[0].label+" "+d[0].score;case 8:case"end":return e.stop()}}),e)})));return function(t,a,n,c){return e.apply(this,arguments)}}(),h=function(e,t,a,c,i){Object(n.useEffect)((function(){e&&t&&a&&c&&v(e,t,c,i)}),[e,t,a,c,i])},E=a(9),f=a.n(E),g=a(10),p=a.n(g),w=function(){var e=Object(n.useContext)(u),t=e.model,a=e.labels,i=A(),l=Object(n.useState)(null),r=Object(o.a)(l,2),s=r[0],d=r[1],m=Object(n.useRef)(),v=Object(n.useRef)();h(t,a,s,m,v);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement("div",{className:"center-div"},c.a.createElement("div",{className:"card"},c.a.createElement(f.a,{className:"dropzone",accept:"image/jpeg, image/png, .jpg, .jpeg, .png",multiple:!1,onDrop:function(e,t,a){if(e&&e.length>0){var n=new FileReader;n.addEventListener("load",(function(){d(n.result)})),n.readAsDataURL(e[0])}}},c.a.createElement("div",{className:"center-div-wrap"},s?c.a.createElement("img",{className:"dropzone-image",src:s,width:"100",alt:"drop"}):c.a.createElement("div",null,c.a.createElement("div",{className:"center-div"},c.a.createElement("img",{src:p.a,width:"50",height:"50",alt:"upload"})),c.a.createElement("div",{style:{display:"block"}},c.a.createElement("p",null,"Drag/drop files over here"))))))),c.a.createElement("div",{className:"center-div"},s&&c.a.createElement("div",{style:{width:"".concat(i.width,"px"),height:"".concat(i.height,"px")}},c.a.createElement("div",{className:"image-container"},c.a.createElement("img",{src:s,width:i.width,height:i.height,className:"image-canvas",ref:m,alt:"ok"})),s&&c.a.createElement("div",{className:"result",ref:v})))))},b=function(){var e=Object(d.a)(s.a.mark((function e(t,a,n,c){var i,l,r,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{i=m.d((function(){var e=m.a.fromPixels(n.current);return m.b.resizeBilinear(e,[224,224]).div(255).expandDims(0).toFloat()})),l=t.execute(i),r=l.arraySync()[0],l.dispose(),i.dispose(),(d=r.map((function(e,t){return{label:a[t],score:e}}))).sort((function(e,t){return t.score-e.score})),c.current.innerHTML=d[0].label+" "+d[0].score,requestAnimationFrame((function(){b(t,a,n,c)}))}catch(s){console.log(s)}case 1:case"end":return e.stop()}}),e)})));return function(t,a,n,c){return e.apply(this,arguments)}}(),j=function(e,t,a,c,i){Object(n.useEffect)((function(){e&&t&&i&&b(e,t,a,c)}),[e,t,i,a,c])},N=function(){var e=Object(n.useContext)(u),t=e.model,a=e.labels,i=A(),l=Object(n.useState)(),r=Object(o.a)(l,2),s=r[0],d=r[1],m=Object(n.useState)(!1),v=Object(o.a)(m,2),h=v[0],E=v[1],g=Object(n.useRef)(),w=Object(n.useRef)();j(t,a,g,w,h);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement("div",{className:"center-div"},c.a.createElement("div",{className:"card"},c.a.createElement(f.a,{className:"dropzone",accept:"video/mp4, video/x-m4v, video/*",multiple:!1,onDrop:function(e,t,a){if(E(!1),e&&e.length>0){var n=new FileReader;n.addEventListener("load",(function(){g.current.src=n.result,d("".concat(n.result,"#t=0.1")),g.current.onloadeddata=function(){E(!0)}})),n.readAsDataURL(e[0])}}},c.a.createElement("div",{className:"center-div-wrap"},s?c.a.createElement("video",{className:"dropzone-image",src:s,width:"100"}):c.a.createElement("div",null,c.a.createElement("div",{className:"center-div"},c.a.createElement("img",{src:p.a,width:"50",height:"50",alt:"upload"})),c.a.createElement("div",{style:{display:"block"}},c.a.createElement("p",null,"Drag/drop files over here"))))))),c.a.createElement("div",{className:"center-div"},c.a.createElement("div",{style:{width:"".concat(i.width,"px"),height:"".concat(i.height,"px")}},c.a.createElement("div",{className:"image-container"},c.a.createElement("video",{autoPlay:!0,playsInline:!0,muted:!0,width:i.width,height:i.height,className:"image-canvas",ref:g})),h&&c.a.createElement("div",{className:"result",ref:w})))))},O=function(e,t){var a=Object(n.useState)(!1),c=Object(o.a)(a,2),i=c[0],l=c[1],r=Object(n.useContext)(u).selected;return Object(n.useEffect)((function(){e&&"Realtime"===r&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"environment"}}).then((function(e){t.current.srcObject=e,t.current.onloadedmetadata=function(){l(!0)}}))}),[e,t,r]),i},M=function(){var e=Object(n.useContext)(u),t=e.model,a=e.labels,i=A(),l=Object(n.useRef)(),r=Object(n.useRef)(),s=O(t,l);return j(t,a,l,r,s),c.a.createElement("div",null,c.a.createElement("div",{className:"center-div"},c.a.createElement("div",{style:{width:"".concat(i.width,"px"),height:"".concat(i.height,"px")}},c.a.createElement("div",{className:"image-container"},c.a.createElement("video",{autoPlay:!0,playsInline:!0,muted:!0,ref:l,width:i.width,height:i.height,className:"image-canvas"})),s&&c.a.createElement("div",{className:"result",ref:r}))))},x=(a(35),function(){var e=Object(n.useContext)(u),t=e.selected,a=e.selectMode;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"top-div"},c.a.createElement("div",{className:"section-div"},"Image"===t?c.a.createElement("div",{className:"selected-div",onClick:function(){return a("Image")}},c.a.createElement("div",{className:"selected-text"},"Upload Image")):c.a.createElement("div",{className:"deselected-div",onClick:function(){return a("Image")}},c.a.createElement("div",{className:"deselected-text"},"Upload Image"))),c.a.createElement("div",{className:"section-div"},"Video"===t?c.a.createElement("div",{className:"selected-div",onClick:function(){return a("Video")}},c.a.createElement("div",{className:"selected-text"},"Upload Video")):c.a.createElement("div",{className:"deselected-div",onClick:function(){return a("Video")}},c.a.createElement("div",{className:"deselected-text"},"Upload Video"))),c.a.createElement("div",{className:"section-div"},"Realtime"===t?c.a.createElement("div",{className:"selected-div",onClick:function(){return a("Realtime")}},c.a.createElement("div",{className:"selected-text"},"Open Camera")):c.a.createElement("div",{className:"deselected-div",onClick:function(){return a("Realtime")}},c.a.createElement("div",{className:"deselected-text"},"Open Camera")))),"Image"===t&&c.a.createElement(w,null),"Video"===t&&c.a.createElement(N,null),"Realtime"===t&&c.a.createElement(M,null))}),C=(a(36),function(e){return c.a.createElement("div",{className:"".concat(e.asOverlay&&"loading-spinner__overlay")},c.a.createElement("div",{className:"lds-roller"},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null)))}),y=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],i=t[1],l=Object(n.useState)(null),r=Object(o.a)(l,2),A=r[0],v=r[1],h=Object(n.useState)(!1),E=Object(o.a)(h,2),f=E[0],g=E[1],p=Object(n.useState)(""),w=Object(o.a)(p,2),b=w[0],j=w[1],N=Object(n.useCallback)((function(e){i(e)}),[]),O=Object(n.useCallback)((function(e){v(e)}),[]),M=Object(n.useCallback)((function(e){j(e)}),[]),y=function(){var e=Object(d.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,m.c("/image-classification-browser/model/model.json");case 3:return t=e.sent,N(t),e.next=7,fetch("/image-classification-browser/model/labels.json");case 7:return a=e.sent,e.next=10,a.json();case 10:n=e.sent,O(n),g(!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(u.Provider,{value:{model:a,fetchModel:N,labels:A,fetchLabels:O,selected:b,selectMode:M}},c.a.createElement("div",{className:"header-div"},"This currently uses a Mobilenetv2 model trained on Rock-Paper-Scissor dataset"),c.a.createElement("div",null,a?c.a.createElement("div",null,c.a.createElement(x,null)):c.a.createElement("div",{className:"center-div load-div"},f?c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement(C,null),c.a.createElement("p",{style:{color:"#6e00b8",fontWeight:"500"}},"Loading Model. Please wait a few seconds...")):c.a.createElement("button",{className:"css-btn",style:{width:"60%"},onClick:y},c.a.createElement("p",{style:{fontSize:"16px",fontWeight:"500"}},"Load Model")))))};l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(y,null)),document.getElementById("root"))}],[[15,1,2]]]);
//# sourceMappingURL=main.1f139ef5.chunk.js.map